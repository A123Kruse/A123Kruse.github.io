<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AI or Real? — Home</title>

    <!-- Shared site-wide styles (fonts, tokens, base colors) -->
    <link rel="stylesheet" href="styles/site.css">
    <!-- Preview + tooltip styles for the homepage -->
    <link rel="stylesheet" href="styles/preview.css">

    <!-- Page-specific styles only (keep this for layout bits unique to the page) -->
    <style>
        * {
            box-sizing: border-box
        }

        .wrap {
            max-width: 1000px;
            width: 100%
        }

        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            margin-bottom: 20px
        }

        .brand {
            font-weight: 800;
            font-size: clamp(22px,2.5vw+10px,40px);
            letter-spacing: .2px
        }

        .sub {
            color: var(--muted);
            margin-top: 6px
        }

        .hero {
            background: rgba(255,255,255,.04);
            border: 1px solid var(--ring);
            border-radius: 18px;
            padding: 28px;
            display: grid;
            gap: 24px
        }

        @media (min-width:900px) {
            .hero {
                grid-template-columns: 1.2fr 1fr;
                align-items: center
            }
        }

        .cta {
            display: inline-block;
            padding: 14px 22px;
            font-weight: 800;
            border-radius: 12px;
            border: 1px solid var(--ring);
            background: linear-gradient(180deg,#172031,#121a28);
            color: var(--text);
            text-decoration: none;
            box-shadow: 0 6px 18px rgba(0,0,0,.35);
            transition: .15s
        }

            .cta:hover {
                transform: translateY(-2px)
            }

        .preview {
            display: grid;
            gap: 16px
        }

        .cards {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px
        }

        .card {
            position: relative;
            background: var(--card);
            border: 1px solid var(--ring);
            border-radius: 14px;
            overflow: hidden
        }

        .label {
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 6px 10px;
            border-radius: 999px;
            background: rgba(0,0,0,.5);
            border: 1px solid var(--ring);
            font-size: 12px;
            text-transform: uppercase
        }

        /* Remove/avoid a global .frame rule here — preview.css handles it with .preview .frame */
        /* If you want the abstract background on empty frames, scope it like this: */
        .preview .card .frame:not(:has(img)) {
            aspect-ratio: 4/3;
            background: radial-gradient(circle at 30% 35%, rgba(255,255,255,.08) 0 30%, transparent 31%), radial-gradient(circle at 70% 60%, rgba(255,255,255,.06) 0 26%, transparent 27%), linear-gradient(180deg, #0e1620, #0b1119);
            border-bottom: 1px solid var(--ring);
        }

        .ghost {
            position: absolute;
            right: 10px;
            bottom: 10px;
            font-size: 12px;
            color: var(--muted)
        }

        .howto {
            margin-top: 22px;
            display: grid;
            gap: 16px
        }

        @media (min-width:700px) {
            .howto {
                grid-template-columns: repeat(3,1fr)
            }
        }

        .step {
            background: rgba(255,255,255,.04);
            border: 1px solid var(--ring);
            border-radius: 14px;
            padding: 16px
        }

            .step h3 {
                margin: 0 0 8px;
                font-size: 16px
            }

        .kbd {
            font-family: ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
            padding: 2px 6px;
            border-radius: 6px;
            border: 1px solid var(--ring);
            background: #0c141d
        }

        footer {
            margin-top: 18px;
            color: var(--muted);
            font-size: 12px;
            text-align: center
        }
    </style>
</head>



<body>
    <div class="page-wrap">
        <div class="app">
            <div class="wrap">
                <header>
                    <div>
                        <div class="brand">AI or Real?</div>
                        <div class="sub">A quick game to test whether you can spot AI-generated images.</div>
                    </div>
                    <!-- Main CTA still starts the game -->
                    <a class="cta" href="game.html">Start the Game</a>
                </header>

                <section class="hero">
                    <div>
                        <h2 style="margin:0 0 10px">How to play</h2>
                        <p class="sub">You’ll see two images side-by-side. One is real, the other is AI-generated. Pick which one you think is AI.</p>

                        <div class="howto">
                            <div class="step">
                                <h3>1) Look closely</h3>
                                <p class="sub">Zoom in on details like text, fingers, backgrounds, and lighting.</p>
                            </div>
                            <div class="step">
                                <h3>2) Make a call</h3>
                                <p class="sub">Click the AI image — or use <span class="kbd">A</span>/<span class="kbd">B</span> to select.</p>
                            </div>
                            <div class="step">
                                <h3>3) Reveal & score</h3>
                                <p class="sub">Press <span class="kbd">R</span> to reveal, <span class="kbd">N</span> for next round. Try to beat your best score!</p>
                            </div>
                        </div>

                        <!-- Secondary CTA now points to categories.html -->
                        <p style="margin-top:18px">
                            <a class="cta" href="categories.html">Categories Explained</a>
                        </p>
                    </div>

                    <!-- visual preview -->
                    <div class="preview" aria-hidden="true">
                        <div class="cards">
                            <!-- Card A with real image + tooltip -->
                            <div class="card">
                                <div class="label">A</div>
                                <div class="frame">
                                    <span class="tooltip">This is a real photo</span>
                                </div>

                                <div class="ghost">“This is AI”</div>
                            </div>

                            <script>
                                (function () {
                                    // Base-aware URL (works with GitHub Pages)
                                    function toURL(p) {
                                        if (/^(https?:)?\/\//i.test(p)) return p;
                                        const clean = String(p).replace(/^\//, '');
                                        return new URL(clean, document.baseURI).toString();
                                    }

                                    // Manifest entry -> actual image URL
                                    function resolveSrc(entry, label, category) {
                                        const v = typeof entry === 'string' ? entry : (entry?.file ?? entry?.src ?? '');
                                        if (!v) return '';
                                        if (/^(https?:)?\/\//i.test(v)) return v;
                                        if (v.startsWith('/')) return toURL(v);
                                        if (v.startsWith('images/')) return toURL(v);

                                        // If entry includes subfolder like "animals/doggy.jpg"
                                        if (v.includes('/') && !v.startsWith('images/')) {
                                            return toURL(`images/${v}`); // <-- key change for Option B
                                        }

                                        // Otherwise treat as bare filename and fall back to label+category
                                        const folder = label === 'ai' ? 'images/ai' : 'images/real';
                                        const catPart = category ? `/${category}` : '';
                                        return toURL(`${folder}${catPart}/${v}`);
                                    }

                                    function pickFirst(manifest, label) {
                                        for (const cat of Object.keys(manifest || {})) {
                                            const bucket = manifest[cat] || {};
                                            const arr = Array.isArray(bucket[label]) ? bucket[label] : [];
                                            if (arr.length) return { src: resolveSrc(arr[0], label, cat), cat };
                                        }
                                        return null;
                                    }

                                    async function loadPreview() {
                                        try {
                                            const res = await fetch(toURL('images/manifest.json'), { cache: 'no-store' });
                                            if (!res.ok) throw new Error(`Could not load images/manifest.json (HTTP ${res.status})`);
                                            const manifest = await res.json();

                                            const realPick = pickFirst(manifest, 'real');
                                            const aiPick = pickFirst(manifest, 'ai');

                                            const A = document.querySelector('.preview .cards .card:nth-child(1) .frame');
                                            const B = document.querySelector('.preview .cards .card:nth-child(2) .frame');

                                            if (A && realPick?.src) {
                                                const img = new Image();
                                                img.alt = 'Example real';
                                                img.src = realPick.src;
                                                A.prepend(img);
                                            }
                                            if (B && aiPick?.src) {
                                                const img = new Image();
                                                img.alt = 'Example AI';
                                                img.src = aiPick.src;
                                                B.prepend(img);
                                            }
                                        } catch (e) {
                                            console.error(e);
                                        }
                                    }

                                    loadPreview();
                                })();
                            </script>

                            <div class="sub">Example layout — actual images load in the game.</div>
                        </div>

                </section>

                <footer>Tip: you can also use <span class="kbd">?shuffle=false</span> on the game page URL for testing left/right consistency.</footer>
            </div>
        </div>
    </div>
    <script>
        (function () {
            function toURL(p) {
                if (/^(https?:)?\/\//i.test(p)) return p;
                const clean = String(p).replace(/^\//, '');
                return new URL(clean, document.baseURI).toString();
            }

            function resolveSrc(entry, label, category) {
                const v = typeof entry === 'string' ? entry : (entry?.file ?? entry?.src ?? '');
                if (!v) return '';
                if (/^(https?:)?\/\//i.test(v)) return v;
                if (v.startsWith('/')) return toURL(v);
                if (v.startsWith('images/')) return toURL(v);

                if (v.includes('/') && !v.startsWith('images/')) {
                    return toURL(`images/${v}`);
                }

                const folder = label === 'ai' ? 'images/ai' : 'images/real';
                const catPart = category ? `/${category}` : '';
                return toURL(`${folder}${catPart}/${v}`);
            }

            function pickFirst(manifest, label) {
                for (const cat of Object.keys(manifest || {})) {
                    const bucket = manifest[cat] || {};
                    const arr = Array.isArray(bucket[label]) ? bucket[label] : [];
                    if (arr.length) return { src: resolveSrc(arr[0], label, cat), cat };
                }
                return null;
            }

            async function loadPreview() {
                try {
                    const res = await fetch(toURL('images/manifest.json'), { cache: 'no-store' });
                    if (!res.ok) throw new Error(`Could not load images/manifest.json (HTTP ${res.status})`);
                    const manifest = await res.json();

                    const realPick = pickFirst(manifest, 'real');
                    const aiPick = pickFirst(manifest, 'ai');

                    const A = document.querySelector('.preview .cards .card:nth-child(1) .frame');
                    const B = document.querySelector('.preview .cards .card:nth-child(2) .frame');

                    if (A && realPick?.src) {
                        const img = new Image();
                        img.alt = 'Example real';
                        img.src = realPick.src;
                        A.prepend(img);
                    }
                    if (B && aiPick?.src) {
                        const img = new Image();
                        img.alt = 'Example AI';
                        img.src = aiPick.src;
                        B.prepend(img);
                    }
                } catch (e) {
                    console.error(e);
                }
            }

            loadPreview();
        })();
    </script>


</body>
</html>
